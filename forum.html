<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tartışma - Plearn</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Previous navigation and header code remains the same until course-grid -->

    <div class="discussion-container">
        <!-- Arkadaşlarınla Tartış Section -->
        <div class="discussion-section">
            <h2>Arkadaşlarınla Tartış - Elektrik Devreleri</h2>
            <div class="messages">
                <div class="message">
                    <img src="student1.jpg" alt="Ahmet">
                    <div class="message-content">
                        <div class="message-header">
                            <span class="user-name">Ahmet Yılmaz</span>
                            <span class="timestamp">14:30</span>
                        </div>
                        <p>Seri ve paralel bağlı dirençlerde akım ve gerilim ilişkisini anlayamadım. Yardımcı olabilecek var mı?</p>
                    </div>
                </div>
                <div class="message">
                    <img src="student2.jpg" alt="Ayşe">
                    <div class="message-content">
                        <div class="message-header">
                            <span class="user-name">Ayşe Kara</span>
                            <span class="timestamp">14:35</span>
                        </div>
                        <p>Seri bağlı dirençlerde akım sabittir, gerilim paylaşılır. Paralel bağlı dirençlerde ise gerilim sabittir, akım paylaşılır.</p>
                    </div>
                </div>
            </div>
            <div class="message-input">
                <input type="text" placeholder="Mesajınızı yazın...">
                <button><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>

        <!-- Yapay Zeka ile Tartış Section -->
        <div class="discussion-section">
            <h2>Yapay Zeka ile Tartış</h2>
            <div class="messages" id="ai-messages">
                <div class="message">
                    <img src="ai-avatar.jpg" alt="PBot">
                    <div class="message-content">
                        <div class="message-header">
                            <span class="user-name">PBot</span>
                            <span class="timestamp">14:00</span>
                        </div>
                        <p>Merhaba! Ben PBot. Elektrik devreleri konusunda size yardımcı olabilirim. Sorularınızı sormak için mesajınızın başına @pbot ekleyin.</p>
                    </div>
                </div>
            </div>
            <div class="message-input">
                <input type="text" placeholder="@pbot ile mesaj yazın..." id="ai-input">
                <button onclick="sendAiMessage()"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>
</body>
<script>
    function sendAiMessage() {
    const input = document.getElementById('ai-input');
    const message = input.value.trim();
    
    if (message === '') return;
    
    // Add user message
    addMessage('You', message, true);
    
    // Check if message starts with @pbot
    if (message.toLowerCase().startsWith('@pbot')) {
        // Specific response for the circuit elements question
        if (message.toLowerCase().includes('devre elemanlarını açıklar mısın')) {
            setTimeout(() => {
                const response = `Temel devre elemanları şunlardır:
                1. Direnç (R): Elektrik akımına karşı direnç gösterir
                2. Kondansatör (C): Elektrik yükünü depolar
                3. Bobin (L): Manyetik enerji depolar
                4. Güç kaynağı: Devreye enerji sağlar
                5. Anahtarlar: Devre kontrolünü sağlar`;
                addMessage('PBot', response, false);
            }, 1000);
        } else {
            // Generic response for other questions
            setTimeout(() => {
                addMessage('PBot', 'Lütfen sadece ders ile ilgili sorular sorunuz.', false);
            }, 1000);
        }
    }
    
    input.value = '';
}

function addMessage(sender, text, isUser) {
    const messagesDiv = document.getElementById('ai-messages');
    const messageDiv = document.createElement('div');
    messageDiv.className = 'message';
    
    messageDiv.innerHTML = `
        <img src="${isUser ? 'user-avatar.jpg' : 'ai-avatar.jpg'}" alt="${sender}">
        <div class="message-content">
            <div class="message-header">
                <span class="user-name">${sender}</span>
                <span class="timestamp">${new Date().toLocaleTimeString('tr-TR', {hour: '2-digit', minute:'2-digit'})}</span>
            </div>
            <p>${text}</p>
        </div>
    `;
    
    messagesDiv.appendChild(messageDiv);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
}
</script>
</html>
